{"remainingRequest":"/home/beanyon/Desktop/workspace/time-partner/node_modules/thread-loader/dist/cjs.js!/home/beanyon/Desktop/workspace/time-partner/node_modules/babel-loader/lib/index.js!/home/beanyon/Desktop/workspace/time-partner/node_modules/eslint-loader/index.js??ref--13-0!/home/beanyon/Desktop/workspace/time-partner/src/main.js","dependencies":[{"path":"/home/beanyon/Desktop/workspace/time-partner/src/main.js","mtime":1556199883014},{"path":"/home/beanyon/Desktop/workspace/time-partner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beanyon/Desktop/workspace/time-partner/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beanyon/Desktop/workspace/time-partner/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/beanyon/Desktop/workspace/time-partner/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport VueRouter from \"vue-router\";\nimport MuseUI from 'muse-ui';\nimport 'muse-ui/dist/muse-ui.css';\nimport VueResource from 'vue-resource';\nimport Toast from 'muse-ui-toast';\nimport VueCookies from 'vue-cookies';\nimport Echarts from 'echarts';\nimport App from './App.vue';\nimport Home from '../src/components/Home.vue';\nimport SignUp from '../src/components/SignUp.vue';\nimport SignIn from '../src/components/SignIn.vue';\nimport Analysis from '../src/components/Analysis.vue';\nVue.use(VueRouter);\nVue.use(MuseUI);\nVue.use(VueResource);\nVue.use(Toast);\nVue.use(VueCookies);\nVue.use(Echarts);\nVue.config.productionTip = false; // 服务器api公共头\n\nVue.prototype.BASE_API = \"https://time.beanyon.site\"; // 全局back函数\n\nVue.prototype.back = function () {\n  history.back();\n}; // Echarts模块\n\n\nVue.prototype.echarts = Echarts;\nvar routes = [{\n  path: '/home',\n  name: 'home',\n  component: Home\n}, {\n  path: '/sign-up',\n  name: 'sign-up',\n  component: SignUp\n}, {\n  path: '/sign-in',\n  name: 'sign-in',\n  component: SignIn\n}, {\n  path: '/analysis',\n  name: 'analysis',\n  component: Analysis\n}, // 重定向\n{\n  path: '/',\n  redirect: '/home'\n}];\nvar router = new VueRouter({\n  mode: 'history',\n  // 去掉路由地址的#\n  routes: routes\n}); // http请求拦截器\n// Vue.http.interceptors.push((request, next) => {\n//     // 请求前\n//     if (request.method == 'POST') {\n//         // 为POST请求添加access_token和check_key\n//         request.body['access_token'] = localStorage.getItem('access_token');\n//         request.body['check_key'] = localStorage.getItem('check_key');\n//     }\n//     if (request.method == 'GET') {\n//         // 为GET请求添加access_token和check_key\n//         if (request.url.indexOf('?') != -1) {\n//             request.url += '&access_token=' + localStorage.getItem('access_token') + '&check_key=' + localStorage.getItem('check_key');\n//         } else {\n//             request.url += '?access_token=' + localStorage.getItem('access_token') + '&check_key=' + localStorage.getItem('check_key');\n//         }\n//     }\n//     // 请求后\n//     next((response) => {\n//         // 截获登录超时，更新access_token和check_key\n//         if (response.body.access_token && response.body.check_key) {\n//             localStorage.setItem('access_token', response.body.access_token);\n//             localStorage.setItem('check_key', response.body.check_key);\n//         }\n//         if (response.body.message == '登录已经失效，请重新登录') {\n//             Vue.prototype.$message({\n//                 type: 'info',\n//                 message: response.body.message\n//             });\n//             localStorage.removeItem('access_token');\n//             localStorage.removeItem('check_key');\n//             localStorage.removeItem('name');\n//             localStorage.removeItem('user_role');\n//             localStorage.removeItem('user_role_type');\n//             localStorage.removeItem('messagesCount');\n//             localStorage.removeItem('id');\n//             router.push({ name: 'login' });\n//         }\n//     });\n// });\n// 对Date的扩展，将 Date 转化为指定格式的String   \n// 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，   \n// 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)   \n// 例子：   \n// (new Date()).Format(\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423   \n// (new Date()).Format(\"yyyy-M-d h:m:s.S\")      ==> 2006-7-2 8:9:4.18   \n\nDate.prototype.format = function (fmt) {\n  //author: meizz   \n  var o = {\n    \"M+\": this.getMonth() + 1,\n    //月份   \n    \"d+\": this.getDate(),\n    //日   \n    \"h+\": this.getHours(),\n    //小时   \n    \"m+\": this.getMinutes(),\n    //分   \n    \"s+\": this.getSeconds(),\n    //秒   \n    \"q+\": Math.floor((this.getMonth() + 3) / 3),\n    //季度   \n    \"S\": this.getMilliseconds() //毫秒   \n\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n  }\n\n  return fmt;\n};\n/**\n * 登录逻辑\n */\n\n\nVue.prototype.login = function (tel, password, route) {\n  var _this = this;\n\n  this.$http.get(this.BASE_API + '/sign-in?tel=' + tel + '&psw=' + password).then(function (response) {\n    if (response.body.result) {\n      // 将用户信息存入cookie，15天过期\n      var expire = 60 * 60 * 24 * 15;\n\n      _this.$cookies.set('tel', response.body.data.tel, expire);\n\n      _this.$cookies.set('password', password, expire);\n\n      _this.$cookies.set('id', response.body.data.id, expire);\n\n      _this.$cookies.set('name', response.body.data.name, expire);\n\n      _this.$cookies.set('gender', response.body.data.gender, expire);\n\n      _this.$cookies.set('age', response.body.data.age, expire);\n\n      _this.$cookies.set('createdAt', response.body.data.createdAt, expire);\n\n      _this.$toast.success(response.body.message);\n\n      _this.$router.push({\n        name: route\n      });\n    } else {\n      _this.$toast.error(response.body.message);\n    }\n  });\n};\n\nnew Vue({\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["/home/beanyon/Desktop/workspace/time-partner/src/main.js"],"names":["Vue","VueRouter","MuseUI","VueResource","Toast","VueCookies","Echarts","App","Home","SignUp","SignIn","Analysis","use","config","productionTip","prototype","BASE_API","back","history","echarts","routes","path","name","component","redirect","router","mode","Date","format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","replace","RegExp","$1","getFullYear","substr","length","k","login","tel","password","route","$http","get","then","response","body","result","expire","$cookies","set","data","id","gender","age","createdAt","$toast","success","message","$router","push","error","render","h","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from \"vue-router\"\nimport MuseUI from 'muse-ui'\nimport 'muse-ui/dist/muse-ui.css'\nimport VueResource from 'vue-resource'\nimport Toast from 'muse-ui-toast'\nimport VueCookies from 'vue-cookies'\nimport Echarts from 'echarts'\nimport App from './App.vue'\nimport Home from '../src/components/Home.vue'\nimport SignUp from '../src/components/SignUp.vue'\nimport SignIn from '../src/components/SignIn.vue'\nimport Analysis from '../src/components/Analysis.vue'\n\nVue.use(VueRouter)\nVue.use(MuseUI)\nVue.use(VueResource)\nVue.use(Toast);\nVue.use(VueCookies)\nVue.use(Echarts)\n\nVue.config.productionTip = false\n\n// 服务器api公共头\nVue.prototype.BASE_API = \"https://time.beanyon.site\"\n// 全局back函数\nVue.prototype.back = function() {\n  history.back()\n}\n// Echarts模块\nVue.prototype.echarts = Echarts\n\nconst routes = [\n    { path: '/home', name: 'home', component: Home },\n    { path: '/sign-up', name: 'sign-up', component: SignUp },\n    { path: '/sign-in', name: 'sign-in', component: SignIn },\n    { path: '/analysis', name: 'analysis', component: Analysis },\n    // 重定向\n    { path: '/', redirect: '/home' }\n]\n\nconst router = new VueRouter({\n    mode: 'history', // 去掉路由地址的#\n    routes: routes\n})\n\n// http请求拦截器\n// Vue.http.interceptors.push((request, next) => {\n//     // 请求前\n//     if (request.method == 'POST') {\n//         // 为POST请求添加access_token和check_key\n//         request.body['access_token'] = localStorage.getItem('access_token');\n//         request.body['check_key'] = localStorage.getItem('check_key');\n//     }\n\n//     if (request.method == 'GET') {\n//         // 为GET请求添加access_token和check_key\n//         if (request.url.indexOf('?') != -1) {\n//             request.url += '&access_token=' + localStorage.getItem('access_token') + '&check_key=' + localStorage.getItem('check_key');\n//         } else {\n//             request.url += '?access_token=' + localStorage.getItem('access_token') + '&check_key=' + localStorage.getItem('check_key');\n//         }\n//     }\n\n//     // 请求后\n//     next((response) => {\n//         // 截获登录超时，更新access_token和check_key\n//         if (response.body.access_token && response.body.check_key) {\n//             localStorage.setItem('access_token', response.body.access_token);\n//             localStorage.setItem('check_key', response.body.check_key);\n//         }\n\n//         if (response.body.message == '登录已经失效，请重新登录') {\n//             Vue.prototype.$message({\n//                 type: 'info',\n//                 message: response.body.message\n//             });\n//             localStorage.removeItem('access_token');\n//             localStorage.removeItem('check_key');\n//             localStorage.removeItem('name');\n//             localStorage.removeItem('user_role');\n//             localStorage.removeItem('user_role_type');\n//             localStorage.removeItem('messagesCount');\n//             localStorage.removeItem('id');\n//             router.push({ name: 'login' });\n//         }\n//     });\n// });\n\n// 对Date的扩展，将 Date 转化为指定格式的String   \n// 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，   \n// 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)   \n// 例子：   \n// (new Date()).Format(\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423   \n// (new Date()).Format(\"yyyy-M-d h:m:s.S\")      ==> 2006-7-2 8:9:4.18   \nDate.prototype.format = function(fmt)   \n{ //author: meizz   \n  var o = {   \n    \"M+\" : this.getMonth()+1,                 //月份   \n    \"d+\" : this.getDate(),                    //日   \n    \"h+\" : this.getHours(),                   //小时   \n    \"m+\" : this.getMinutes(),                 //分   \n    \"s+\" : this.getSeconds(),                 //秒   \n    \"q+\" : Math.floor((this.getMonth()+3)/3), //季度   \n    \"S\"  : this.getMilliseconds()             //毫秒   \n  };   \n  if(/(y+)/.test(fmt))   \n    fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));   \n  for(var k in o)   \n    if(new RegExp(\"(\"+ k +\")\").test(fmt))   \n  fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));   \n  return fmt;   \n}\n\n/**\n * 登录逻辑\n */\nVue.prototype.login = function(tel, password, route) {\n  this.$http.get(this.BASE_API + '/sign-in?tel=' + tel + '&psw=' + password).then(response => {\n    if (response.body.result) {\n      // 将用户信息存入cookie，15天过期\n      let expire = 60 * 60 * 24 * 15\n      this.$cookies.set('tel', response.body.data.tel, expire)\n      this.$cookies.set('password', password, expire)\n      this.$cookies.set('id', response.body.data.id, expire)\n      this.$cookies.set('name', response.body.data.name, expire)\n      this.$cookies.set('gender', response.body.data.gender, expire)\n      this.$cookies.set('age', response.body.data.age, expire)\n      this.$cookies.set('createdAt', response.body.data.createdAt, expire)\n\n      this.$toast.success(response.body.message)\n      this.$router.push({ name: route });\n    } else {\n      this.$toast.error(response.body.message)\n    }\n  });\n}\n\nnew Vue({\n  router: router,\n  render: h => h(App),\n}).$mount('#app')\n"]}]}